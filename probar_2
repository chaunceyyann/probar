#!/bin/ksh
####################################################################################
# Program name : Progress bar implementation
# Author : Chauncey Yan
# Revision : 0.
####################################################################################

####################################################################################
# Var init
####################################################################################
bar="##################################################"
b="\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"
i=0;
####################################################################################
# Function: update_bar
# update the bar by one index
####################################################################################
update_bar(){
((index=($1)%101/2))
printf "$b""$1\% ""${bar:0:$index}"
}
####################################################################################
# run a loop until it reachs the count
####################################################################################
until [[ $i -eq 101 ]];do	
	update_bar $i
	sleep 0.05
	((i=$i+1))
done

